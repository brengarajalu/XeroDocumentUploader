{"ast":null,"code":"var _jsxFileName = \"/Users/SwathiBala/Projects/XeroDocumentUploader/XeroDocumentUploader/ClientApp/src/components/FileUpload.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nexport class FileUpload extends Component {\n  constructor(props) {\n    super(props);\n\n    this.selectFileHandler = event => {\n      //1. define the array for the file type e.g. png, jpeg\n      const fileTypes = ['text/pdf']; // 2. get the file type\n\n      let file = event.target.files;\n      console.log(`File ${file}`); // 3. the message for error if the file type of not matched\n\n      let errMessage = []; // 4. to check the file type to match with the fileTypes array iterate \n      // through the types array\n\n      if (fileTypes.every(extension => file[0].type != extension)) {\n        errMessage.push(`The file ${file.type} extension is not supported`);\n      } else {\n        this.setState({\n          selectedFile: file[0]\n        });\n      }\n    };\n\n    this.uploadHandler = event => {\n      // 1. the FormData object that contains the data to be posted to the \n      // WEB API\n      const formData = new FormData();\n      formData.append('file', this.state.selectedFile); // 2. post the file to the WEB API\n\n      axios.post(\"http://localhost:5001/api/FileUpload/Upload\", formData, {\n        onUploadProgress: progressEvent => {\n          this.setState({\n            progress: progressEvent.loaded / progressEvent.total * 100\n          });\n        }\n      }).then(response => {\n        this.setState({\n          status: `upload success ${response.data}`\n        });\n      }).catch(error => {\n        this.setState({\n          status: `upload failed ${error}`\n        });\n      });\n    };\n\n    this.state = {\n      selectedFile: '',\n      status: '',\n      progress: 0\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: e => this.submit(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-12 btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }, \"File Upload\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }, \"File Upload\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      onChange: e => this.selectFileHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      onClick: this.uploadHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    }, \"Upload\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }, this.state.progress), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }, this.state.status)));\n  }\n\n}\nexport default FileUpload;","map":{"version":3,"sources":["/Users/SwathiBala/Projects/XeroDocumentUploader/XeroDocumentUploader/ClientApp/src/components/FileUpload.js"],"names":["React","Component","axios","FileUpload","constructor","props","selectFileHandler","event","fileTypes","file","target","files","console","log","errMessage","every","extension","type","push","setState","selectedFile","uploadHandler","formData","FormData","append","state","post","onUploadProgress","progressEvent","progress","loaded","total","then","response","status","data","catch","error","render","e","submit"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,UAAN,SAAyBF,SAAzB,CAAmC;AACtCG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAQnBC,iBARmB,GAQEC,KAAD,IAAW;AAC3B;AACA,YAAMC,SAAS,GAAG,CAAC,UAAD,CAAlB,CAF2B,CAI3B;;AACA,UAAIC,IAAI,GAAGF,KAAK,CAACG,MAAN,CAAaC,KAAxB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAa,QAAOJ,IAAK,EAAzB,EAN2B,CAO3B;;AACA,UAAIK,UAAU,GAAG,EAAjB,CAR2B,CAS3B;AACA;;AACA,UAAIN,SAAS,CAACO,KAAV,CAAgBC,SAAS,IAAIP,IAAI,CAAC,CAAD,CAAJ,CAAQQ,IAAR,IAAgBD,SAA7C,CAAJ,EAA6D;AACzDF,QAAAA,UAAU,CAACI,IAAX,CAAiB,YAAWT,IAAI,CAACQ,IAAK,6BAAtC;AACH,OAFD,MAEO;AACH,aAAKE,QAAL,CAAc;AACVC,UAAAA,YAAY,EAAEX,IAAI,CAAC,CAAD;AADR,SAAd;AAGH;AACJ,KA1BkB;;AAAA,SA4BnBY,aA5BmB,GA4BFd,KAAD,IAAW;AACvB;AACA;AACA,YAAMe,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwB,KAAKC,KAAL,CAAWL,YAAnC,EAJuB,CAMvB;;AACAlB,MAAAA,KAAK,CAACwB,IAAN,CAAW,6CAAX,EAA0DJ,QAA1D,EAAoE;AAChEK,QAAAA,gBAAgB,EAAEC,aAAa,IAAI;AAC/B,eAAKT,QAAL,CAAc;AACVU,YAAAA,QAAQ,EAAGD,aAAa,CAACE,MAAd,GAAuBF,aAAa,CAACG,KAArC,GAA6C;AAD9C,WAAd;AAGH;AAL+D,OAApE,EAOKC,IAPL,CAOWC,QAAD,IAAc;AAChB,aAAKd,QAAL,CAAc;AAAEe,UAAAA,MAAM,EAAG,kBAAiBD,QAAQ,CAACE,IAAK;AAA1C,SAAd;AACH,OATL,EAUKC,KAVL,CAUYC,KAAD,IAAW;AACd,aAAKlB,QAAL,CAAc;AAAEe,UAAAA,MAAM,EAAG,iBAAgBG,KAAM;AAAjC,SAAd;AACH,OAZL;AAaH,KAhDkB;;AAEf,SAAKZ,KAAL,GAAa;AACTL,MAAAA,YAAY,EAAE,EADL;AAETc,MAAAA,MAAM,EAAE,EAFC;AAGTL,MAAAA,QAAQ,EAAE;AAHD,KAAb;AAKH;;AA0CDS,EAAAA,MAAM,GAAG;AACL,wBAEI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,QAAQ,EAAEC,CAAC,IAAI,KAAKC,MAAL,CAAYD,CAAZ,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAJJ,eAKI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,EAAEA,CAAC,IAAI,KAAKjC,iBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,eAMI;AAAQ,MAAA,SAAS,EAAC,iBAAlB;AAAoC,MAAA,IAAI,EAAC,QAAzC;AAAkD,MAAA,OAAO,EAAE,KAAKe,aAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANJ,eAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAM,KAAKI,KAAL,CAAWI,QAAjB,CAPJ,eAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARJ,eASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAM,KAAKJ,KAAL,CAAWS,MAAjB,CATJ,CADJ,CAFJ;AAiBH;;AApEqC;AAuE1C,eAAe/B,UAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nexport class FileUpload extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            selectedFile: '',\n            status: '',\n            progress: 0\n        }\n    }\n    selectFileHandler = (event) => {\n        //1. define the array for the file type e.g. png, jpeg\n        const fileTypes = ['text/pdf'];\n\n        // 2. get the file type\n        let file = event.target.files;\n        console.log(`File ${file}`);\n        // 3. the message for error if the file type of not matched\n        let errMessage = [];\n        // 4. to check the file type to match with the fileTypes array iterate \n        // through the types array\n        if (fileTypes.every(extension => file[0].type != extension)) {\n            errMessage.push(`The file ${file.type} extension is not supported`);\n        } else {\n            this.setState({\n                selectedFile: file[0]\n            });\n        }\n    };\n    // method contain logic to upload file\n    uploadHandler = (event) => {\n        // 1. the FormData object that contains the data to be posted to the \n        // WEB API\n        const formData = new FormData();\n        formData.append('file', this.state.selectedFile);\n\n        // 2. post the file to the WEB API\n        axios.post(\"http://localhost:5001/api/FileUpload/Upload\", formData, {\n            onUploadProgress: progressEvent => {\n                this.setState({\n                    progress: (progressEvent.loaded / progressEvent.total * 100)\n                })\n            }\n        })\n            .then((response) => {\n                this.setState({ status: `upload success ${response.data}` });\n            })\n            .catch((error) => {\n                this.setState({ status: `upload failed ${error}` });\n            })\n    }\n    render() {\n        return (\n\n            <div className=\"container-fluid\">\n                <form onSubmit={e => this.submit(e)}>\n                    <div className=\"col-sm-12 btn btn-primary\">\n                        File Upload\n                        </div>\n                    <h1>File Upload</h1>\n                    <input type=\"file\" onChange={e => this.selectFileHandler} />\n                    <button className=\"btn btn-primary\" type=\"submit\" onClick={this.uploadHandler}>Upload</button>\n                    <div>{this.state.progress}</div>\n                    <br />\n                    <div>{this.state.status}</div>\n                </form>\n            </div>    \n          \n        );\n    }\n}\n\nexport default FileUpload;"]},"metadata":{},"sourceType":"module"}